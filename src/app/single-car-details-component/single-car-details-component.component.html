<p-messages [(value)]="msgs" class="messageBox"></p-messages>


<div class="p-grid">

    <div class="p-col-6 p-offset-3">
		


<h3>Edit User Data</h3>
 <form #carEditInputs="ngForm" >
<p-table [value]="cars"  editMode="row">


    <ng-template pTemplate="header">
        <tr>
            <th>ime</th>
            <th>priimek</th>
            <th>naslov</th>
            <th>starost</th>
	          <th>avto</th>
            <th style="width:8em"></th>
        </tr>
    </ng-template>
 


		<ng-template pTemplate="body" let-rowData let-editing="editing" let-ri="rowIndex">
        <tr [pEditableRow]="rowData"> 

						<td>
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <input pInputText class="widthAdjs" #ime="ngModel" type="text" name="ime" [(ngModel)]="rowDataa.ime" minlength="4" required>
									<div *ngIf="ime.invalid && (ime.dirty || ime.touched)" class="alert alert-danger absoulte" >
											<div *ngIf="ime.errors.required">
												Ime is required.
											</div>
											<div *ngIf="ime.errors.minlength">
											 Year 4 characters long.
											</div>
									</div>

                    </ng-template>
                    <ng-template pTemplate="output">
                        {{rowDataa.ime}}
                    </ng-template>

                </p-cellEditor>
            </td>


						<td>
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <input pInputText class="widthAdjs" type="text" [(ngModel)]="rowDataa.priimek" #priimek="ngModel" minlength="4" name="priimek" required>
											<div *ngIf="priimek.invalid && (priimek.dirty || priimek.touched)" class="alert alert-danger absoulte">
													<div *ngIf="priimek.errors.required">
														Priimek is required.
													</div>
													<div *ngIf="priimek.errors.minlength">
													 Priimek 4 characters long.
													</div>
											</div>	
                    </ng-template>
                    <ng-template pTemplate="output">
                        {{rowDataa.priimek}}
                    </ng-template>
                </p-cellEditor>
            </td>
	
					<td>
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <input pInputText class="widthAdjs" type="text" [(ngModel)]="rowDataa.naslov" #naslov="ngModel" minlength="4" name="naslov" required>
												<div *ngIf="naslov.invalid && (naslov.dirty || naslov.touched)" class="alert alert-danger absoulte">
													<div *ngIf="naslov.errors.required">
														naslov is required.
													</div>
													<div *ngIf="naslov.errors.minlength">
													 naslov 4 characters long.
													</div>
											</div>                    
		
										</ng-template>
                    <ng-template pTemplate="output">
                        {{rowDataa.naslov}}
                    </ng-template>
                </p-cellEditor>
            </td>
	


           <td>
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <input pInputText class="widthAdjs" type="text" [(ngModel)]="rowDataa.starost"  class="inputWidth" name ="starost" type="number" minlength="1" #starost="ngModel" required>

							<div *ngIf="starost.invalid && (starost.dirty || starost.touched)" class="alert alert-danger absoulte">
								<div *ngIf="starost.errors.required">
									digits are required.
								</div>
								<div *ngIf="starost.errors.minlength">
									starost must be at least 1 digits long.
								</div>
							</div>

                    </ng-template>
                    <ng-template pTemplate="output">
                        {{rowDataa.starost}}
                    </ng-template>
                </p-cellEditor>
            </td>
	

						<td>
                <p-cellEditor>
                    <ng-template pTemplate="input">
												 <select [(ngModel)]="rowDataa.avto" name="avto" class="select">
													<option value="volvo">Volvo</option>
													<option value="bmw">Bmw</option>
													<option value="saab">Saab</option>
													<option value="mercedes">Mercedes</option>
													<option value="audi">Audi</option>
												</select> 
                        
                    </ng-template>
                    <ng-template pTemplate="output">
                        {{rowDataa.avto}}
                    </ng-template>
                </p-cellEditor>
            </td>
	


         
					<td style="text-align:center">
               
								<button *ngIf="!editing" pButton type="button" pInitEditableRow icon="pi pi-pencil"  class="ui-button-info" (click)="onRowEditInit(rowData)" label="change"></button>
                
						<!-- <i class="fas fa-save"></i> -->
								<button *ngIf="editing" pButton type="button" pSaveEditableRow class="ui-button-success triGumb" (click)="onRowEditSave(rowData)" [disabled]="!carEditInputs.form.valid" label=""></button>
              
							  <button *ngIf="editing" pButton type="button" pCancelEditableRow  class="ui-button-secondary triGumb" (click)="onRowEditCancel(rowData, ri)" label=""></button>
							
							<button *ngIf="editing" pButton type="button" pCancelEditableRow class="ui-button-danger triGumb" (click)="onRowdelete(rowData)" [disabled]="!carEditInputs.form.valid" label="" ></button>

            </td>
          
        </tr>

    </ng-template>

</p-table>

<div class="p-col-6 p-offset-3">
<button pButton type="button" label="Click" (click)="backCarsTable()" class="ui-button-info" label="Route Back"></button>
</div>



	</form>

	</div><!-- end of p-col-6 p-offset-3 -->
</div><!-- end of p-grid -->
